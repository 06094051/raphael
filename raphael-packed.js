/*
 * Raphael 0.5.10 - JavaScript Vector Library
 *
 * Copyright (c) 2008 Dmitry Baranovskiy (raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
var Raphael=(function(q){var r=function(){return r._create.apply(r,arguments)};r.version="0.5.10";r.type=q;var C={};function Matrix(a,b,c,d,e,f){this.m=[[a||1,b||0,0],[c||0,d||1,0],[e||0,f||0,1]]}C._getX=C._getY=C._getW=C._getH=function(x){return x};if(q=="VML"){Matrix.prototype.toString=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.m[0][0]+", M12="+this.m[1][0]+", M21="+this.m[0][1]+", M22="+this.m[1][1]+", Dx="+this.m[2][0]+", Dy="+this.m[2][1]+", sizingmethod='auto expand', filtertype='bilinear')"};var t=function(j,l,m){var g=document.createElement("rvml:group"),gl=g.style;gl.position="absolute";gl.left=0;gl.top=0;gl.width=m.width+"px";gl.height=m.height+"px";var n=document.createElement("rvml:shape"),ol=n.style;ol.width=m.width+"px";ol.height=m.height+"px";n.path="";if(j["class"]){n.className=j["class"]}n.coordsize=this.coordsize;n.coordorigin=this.coordorigin;g.appendChild(n);m.canvas.appendChild(g);var p=new z(n,g,m);u(p,j);if(j.gradient){v(p,j.gradient)}p.isAbsolute=true;p.type="path";p.path=[];p.last={x:0,y:0,bx:0,by:0,isAbsolute:true};p.Path="";p.absolutely=function(){this.isAbsolute=true;return this};p.relatively=function(){this.isAbsolute=false;return this};p.redraw=function(){this.Path="";var a=this.path;this.path=[];for(var i=0,ii=a.length;i<ii;i++){if(a[i].type!="end"){this[a[i].type+"To"].apply(this,a[i].arg)}else{this.andClose()}}return this};p.moveTo=function(x,y){var d=this.isAbsolute?"m":"t";var a=this.isAbsolute?m._getX:m._getW;var b=this.isAbsolute?m._getY:m._getH;d+=Math.round(a(parseFloat(x,10)))+" "+Math.round(b(parseFloat(y,10)));this[0].path=this.Path+=d;this.last.x=(this.isAbsolute?0:this.last.x)+a(parseFloat(x,10));this.last.y=(this.isAbsolute?0:this.last.y)+b(parseFloat(y,10));this.last.isAbsolute=this.isAbsolute;this.path.push({type:"move",arg:[].slice.call(arguments,0),pos:this.isAbsolute});return this};p.lineTo=function(x,y){var d=this.isAbsolute?"l":"r";var a=this.isAbsolute?m._getX:m._getW;var b=this.isAbsolute?m._getY:m._getH;d+=Math.round(a(parseFloat(x,10)))+" "+Math.round(b(parseFloat(y,10)));this[0].path=this.Path+=d;this.last.x=(this.isAbsolute?0:this.last.x)+a(parseFloat(x,10));this.last.y=(this.isAbsolute?0:this.last.y)+b(parseFloat(y,10));this.last.isAbsolute=this.isAbsolute;this.path.push({type:"line",arg:[].slice.call(arguments,0),pos:this.isAbsolute});return this};p.arcTo=function(a,b,c,e,f,g){f=(this.isAbsolute?0:this.last.x)+f;g=(this.isAbsolute?0:this.last.y)+g;var h=this.last.x,y1=this.last.y,x=(h-f)/2,y=(y1-g)/2,k=(c==e?-1:1)*Math.sqrt((a*a*b*b-a*a*y*y-b*b*x*x)/(a*a*y*y+b*b*x*x)),cx=k*a*y/b+(h+f)/2,cy=k*-b*x/a+(y1+g)/2,d=e?(this.isAbsolute?"wa":"wr"):(this.isAbsolute?"at":"ar"),_getX=this.isAbsolute?m._getX:m._getW,_getY=this.isAbsolute?m._getY:m._getH,left=Math.round(cx-a),top=Math.round(cy-b);d+=[left,top,Math.round(left+a*2),Math.round(top+b*2),Math.round(h),Math.round(y1),Math.round(_getX(parseFloat(f,10))),Math.round(_getX(parseFloat(g,10)))].join(", ");this[0].path=this.Path+=d;this.last.x=(this.isAbsolute?0:this.last.x)+_getX(parseFloat(f,10));this.last.y=(this.isAbsolute?0:this.last.y)+_getY(parseFloat(g,10));this.last.isAbsolute=this.isAbsolute;this.path.push({type:"arc",arg:[].slice.call(arguments,0),pos:this.isAbsolute});return this};p.cplineTo=function(a,b,c){if(!c){return this.lineTo(a,b)}else{var p={};p._getX=this.isAbsolute?m._getX:m._getW;p._getY=this.isAbsolute?m._getY:m._getH;var x=Math.round(p._getX(Math.round(parseFloat(a,10)*100)/100));var y=Math.round(p._getY(Math.round(parseFloat(b,10)*100)/100));var w=Math.round(m._getW(Math.round(parseFloat(c,10)*100)/100));var d=this.isAbsolute?"c":"v";var e=[Math.round(this.last.x)+w,Math.round(this.last.y),x-w,y,x,y];d+=e.join(" ")+" ";this.last.x=(this.isAbsolute?0:this.last.x)+e[4];this.last.y=(this.isAbsolute?0:this.last.y)+e[5];this.last.bx=e[2];this.last.by=e[3];this[0].path=this.Path+=d;this.path.push({type:"cpline",arg:[].slice.call(arguments,0),pos:this.isAbsolute});return this}};p.curveTo=function(){var d=this.isAbsolute?"c":"v";var a=this.isAbsolute?m._getX:m._getW;var b=this.isAbsolute?m._getY:m._getH;if(arguments.length==6){this.last.bx=(this.isAbsolute?0:this.last.x)+a(parseFloat(arguments[2],10));this.last.by=(this.isAbsolute?0:this.last.y)+b(parseFloat(arguments[3],10));this.last.x=(this.isAbsolute?0:this.last.x)+a(parseFloat(arguments[4],10));this.last.y=(this.isAbsolute?0:this.last.y)+b(parseFloat(arguments[5],10));d+=Math.round(a(parseFloat(arguments[0],10)))+" "+Math.round(b(parseFloat(arguments[1],10)))+" "+Math.round(a(parseFloat(arguments[2],10)))+" "+Math.round(b(parseFloat(arguments[3],10)))+" "+Math.round(a(parseFloat(arguments[4],10)))+" "+Math.round(b(parseFloat(arguments[5],10)))+" ";this.last.isAbsolute=this.isAbsolute}if(arguments.length==4){var c=this.last.x*2-this.last.bx;var e=this.last.y*2-this.last.by;this.last.bx=(this.isAbsolute?0:this.last.x)+a(parseFloat(arguments[0],10));this.last.by=(this.isAbsolute?0:this.last.y)+b(parseFloat(arguments[1],10));this.last.x=(this.isAbsolute?0:this.last.x)+a(parseFloat(arguments[2],10));this.last.y=(this.isAbsolute?0:this.last.y)+b(parseFloat(arguments[3],10));d+=[Math.round(c),Math.round(e),Math.round(a(parseFloat(arguments[0],10))),Math.round(b(parseFloat(arguments[1],10))),Math.round(a(parseFloat(arguments[2],10))),Math.round(b(parseFloat(arguments[3],10)))].join(" ")}this[0].path=this.Path+=d;this.path.push({type:"curve",arg:[].slice.call(arguments,0),pos:this.isAbsolute});return this};p.addRoundedCorner=function(r,a){var R=.5522*r,rollback=this.isAbsolute,o=this;if(rollback){this.relatively();rollback=function(){o.absolutely()}}else{rollback=function(){}}var b={l:function(){return{u:function(){o.curveTo(-R,0,-r,-(r-R),-r,-r)},d:function(){o.curveTo(-R,0,-r,r-R,-r,r)}}},r:function(){return{u:function(){o.curveTo(R,0,r,-(r-R),r,-r)},d:function(){o.curveTo(R,0,r,r-R,r,r)}}},u:function(){return{r:function(){o.curveTo(0,-R,-(R-r),-r,r,-r)},l:function(){o.curveTo(0,-R,R-r,-r,-r,-r)}}},d:function(){return{r:function(){o.curveTo(0,R,-(R-r),r,r,r)},l:function(){o.curveTo(0,R,R-r,r,-r,r)}}}};b[a.charAt(0)]()[a.charAt(1)]();rollback();return o};p.andClose=function(){this[0].path=(this.Path+="x e");return this};if(typeof l=="string"){p.absolutely();C.pathfinder(p,l)}return p};var u=function(o,a){var s=o[0].style;o.attrs=o.attrs||{};for(var b in a){o.attrs[b]=a[b]}a["font-family"]&&(s.fontFamily=a["font-family"]);a["font-size"]&&(s.fontSize=a["font-size"]);a["font"]&&(s.font=a["font"]);a["font-weight"]&&(s.fontWeight=a["font-weight"]);if(typeof a.opacity!="undefined"||typeof a["stroke-width"]!="undefined"||typeof a.fill!="undefined"||typeof a.stroke!="undefined"){o=o.shape||o[0];var c=(o.getElementsByTagName("fill")&&o.getElementsByTagName("fill")[0])||document.createElement("rvml:fill");if("fill-opacity"in a||"opacity"in a){c.opacity=((a["fill-opacity"]+1||2)-1)*((a.opacity+1||2)-1)}if(a.fill){c.on=true}if(c.on==undefined||a.fill=="none"){c.on=false}if(c.on&&a.fill){c.color=a.fill}o.appendChild(c);var d=(o.getElementsByTagName("stroke")&&o.getElementsByTagName("stroke")[0])||document.createElement("rvml:stroke");if((a.stroke&&a.stroke!="none")||a["stroke-width"]||a["stroke-opacity"]||a["stroke-dasharray"]){d.on=true}if(a.stroke=="none"||typeof d.on=="undefined"){d.on=false}if(d.on&&a.stroke){d.color=a.stroke}d.opacity=((a["stroke-opacity"]+1||2)-1)*((a.opacity+1||2)-1);a["stroke-linejoin"]&&(d.joinstyle=a["stroke-linejoin"]||"miter");d.miterlimit=a["stroke-miterlimit"]||8;a["stroke-linecap"]&&(d.endcap={butt:"flat",square:"square",round:"round"}[a["stroke-linecap"]]||"miter");a["stroke-width"]&&(d.weight=(parseFloat(a["stroke-width"],10)||1)*12/16);if(a["stroke-dasharray"]){var e=a["stroke-dasharray"].replace(" ",",").split(","),dashesn=[],str=d.weight;for(var i=0,ii=e.length;i<ii;i++){var f=e[i]/str;if(!isNaN(f)){dashesn.push(f)}};d.dashstyle=dashesn.join(" ")}o.appendChild(d)}};var v=function(o,a){o.attrs=o.attrs||{};o.attrs.gradient=a;o=o.shape||o[0];var b=o.getElementsByTagName("fill");if(b.length){b=b[0]}else{b=document.createElement("rvml:fill")}if(a.dots.length){b.on=true;b.type=(a.type.toLowerCase()=="linear")?"gradient":"gradientradial";if(typeof a.dots[0].color!="undefined"){b.color=a.dots[0].color||"#000"}if(typeof a.dots[0].opacity!="undefined"){b.opacity=a.dots[0].opacity}if(typeof a.dots[a.dots.length-1].opacity!="undefined"){b.opacity2=a.dots[a.dots.length-1].opacity}if(typeof a.dots[a.dots.length-1].color!="undefined"){b.color2=a.dots[a.dots.length-1].color||"#000"}var c="";for(var i=1,ii=a.dots.length-1;i<ii;i++){c+=a.dots[i].offset+" "+a.dots[i].color;if(i!=ii-1){c+=","}};if(c){b.colors=c}if(a.vector){var d=Math.round(Math.atan((parseInt(a.vector[3],10)-parseInt(a.vector[1],10))/(parseInt(a.vector[2],10)-parseInt(a.vector[0],10)))*57.29)+180;b.angle=d+90}if(a.type.toLowerCase()=="radial"){b.focusposition="0.5, 0.5";b.focussize="0, 0";b.method="none"}}};var z=function(b,c,d){var e=0,RotX=0,RotY=0,Scale=1;this[0]=b;this.node=b;this.X=0;this.Y=0;this.attrs={};this.Group=c;this.vml=d;this.rotate=function(a){if(a==undefined){return e}e+=a;this.Group.style.rotation=e;return this}};z.prototype.setBox=function(a){var b=this.Group.style,os=this[0].style;for(var i in a){this.attrs[i]=a[i]}var c=this.attrs,x,y,w,h;switch(this.type){case"circle":x=c.cx-c.r;y=c.cy-c.r;w=h=c.r*2;break;case"ellipse":x=c.cx-c.rx;y=c.cy-c.ry;w=c.rx*2;h=c.ry*2;break;case"rect":case"image":x=c.x;y=c.y;w=c.w;h=c.h;break;case"text":this.textpath.v=["m",Math.round(c.x),", ",Math.round(c.y-2),"l",Math.round(c.x)+1,", ",Math.round(c.y-2)].join("");return;default:return}var d=this.vml.width/2-w/2,top=this.vml.height/2-h/2;b.position="absolute";b.left=x-d+"px";b.top=y-top+"px";this.X=x-d;this.Y=y-top;this.W=w;this.H=h;b.width=this.vml.width+"px";b.height=this.vml.height+"px";os.position="absolute";os.top=top+"px";os.left=d+"px";os.width=w+"px";os.height=h+"px"};z.prototype.hide=function(){this.Group.style.display="none";return this};z.prototype.show=function(){this.Group.style.display="block";return this};z.prototype.translate=function(x,y){if(x==undefined&&y==undefined){return{x:this.X,y:this.Y}}this.X+=x;this.Y+=y;this.Group.style.left=this.X+"px";this.Group.style.top=this.Y+"px";return this};z.prototype.matrix=function(a,b,c,d,e,f){tMatrix=new Matrix(a,b,c,d,e,f);this.Group.style.filter=tMatrix;return this};z.prototype.scale=function(x,y){if(x==undefined&&y==undefined){return}y=y||x;if(x!=0&&!(x==1&&y==1)){var a=Math.round(x/Math.abs(x)),diry=Math.round(y/Math.abs(y)),s=this[0].style;if(a!=1||diry!=1){s.filter=new Matrix(a,0,0,diry,0,0)}var b=parseInt(s.width,10)*x*a;var c=parseInt(s.height,10)*y*diry;var d=parseInt(s.left,10);var e=parseInt(s.top,10);s.left=this.X=d+this.W/2-b/2;s.top=this.Y=e+this.H/2-c/2;s.width=this.W=b;s.height=this.H=c}return this};z.prototype.getBBox=function(){return{x:this.Group.offsetLeft,y:this.Group.offsetTop,width:this.Group.offsetWidth,height:this.Group.offsetHeight}};z.prototype.remove=function(){this[0].parentNode.removeChild(this[0]);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape)};z.prototype.attr=function(){if(arguments.length==1&&typeof arguments[0]=="string"){return this.attrs[arguments[0]]}if(this.attrs&&arguments.length==1&&arguments[0]instanceof Array){var a={};for(var i=0,ii=arguments[0].length;i<ii;i++){a[arguments[0][i]]=this.attrs[arguments[0][i]]};return a}if(this[0].tagName.toLowerCase()=="group"){var b=this[0].childNodes;this.attrs=this.attrs||{};if(arguments.length==2){this.attrs[arguments[0]]=arguments[1]}else if(arguments.length==1||typeof arguments[0]=="object"){for(var j in arguments[0]){this.attrs[j]=arguments[0][j]}}for(var i=0,ii=b.length;i<ii;i++){this.attr.apply(new item(b[i],this[0],this.vml),arguments)}}else{var c;if(arguments.length==2){c={};c[arguments[0]]=arguments[1]}if(arguments.length==1&&typeof arguments[0]=="object"){c=arguments[0]}if(c){u(this,c);this.setBox(c);if(c.gradient){v(this,c.gradient)}if(c.text&&this.type=="text"){this[0].string=c.text}if(c.id){this[0].id=c.id}}}return this};z.prototype.toFront=function(){this.Group.parentNode.appendChild(this.Group);return this};z.prototype.toBack=function(){if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild)}return this};var A=function(a,x,y,r){var g=document.createElement("rvml:group");var o=document.createElement("rvml:oval");g.appendChild(o);a.canvas.appendChild(g);var b=new z(o,g,a);u(b,{stroke:"#000",fill:"none"});b.setBox({x:x-r,y:y-r,w:r*2,h:r*2});b.attrs.cx=x;b.attrs.cy=y;b.attrs.r=r;b.type="circle";return b};var B=function(a,x,y,w,h,r){var g=document.createElement("rvml:group");var o=document.createElement(r?"rvml:roundrect":"rvml:rect");if(r){o.arcsize=r/(Math.min(w,h))}g.appendChild(o);a.canvas.appendChild(g);var b=new z(o,g,a);u(b,{stroke:"#000"});b.setBox({x:x,y:y,w:w,h:h});b.attrs.x=x;b.attrs.y=y;b.attrs.w=w;b.attrs.h=h;b.attrs.r=r;b.type="rect";return b};var D=function(a,x,y,b,c){var g=document.createElement("rvml:group");var o=document.createElement("rvml:oval");g.appendChild(o);a.canvas.appendChild(g);var d=new z(o,g,a);u(d,{stroke:"#000"});d.setBox({x:x-b,y:y-c,w:b*2,h:c*2});d.attrs.cx=x;d.attrs.cy=y;d.attrs.rx=b;d.attrs.ry=c;d.type="ellipse";return d};var E=function(a,b,x,y,w,h){var g=document.createElement("rvml:group");var o=document.createElement("rvml:image");o.src=b;g.appendChild(o);a.canvas.appendChild(g);var c=new z(o,g,a);c.type="image";c.setBox({x:x,y:y,w:w,h:h});c.attrs.x=x;c.attrs.y=y;c.attrs.w=w;c.attrs.h=h;return c};var F=function(a,x,y,b){var g=document.createElement("rvml:group"),gs=g.style;var c=document.createElement("rvml:shape"),ol=c.style;var d=document.createElement("rvml:path"),ps=d.style;d.v=["m",Math.round(x),", ",Math.round(y-2),"l",Math.round(x)+1,", ",Math.round(y-2)].join("");d.textpathok=true;ol.width=a.width;ol.height=a.height;gs.position="absolute";gs.left=0;gs.top=0;gs.width=a.width;gs.height=a.height;var o=document.createElement("rvml:textpath");o.string=b;o.on=true;o.coordsize=a.coordsize;o.coordorigin=a.coordorigin;c.appendChild(o);c.appendChild(d);g.appendChild(c);a.canvas.appendChild(g);var e=new z(o,g,a);e.shape=c;e.textpath=d;e.type="text";e.attrs.x=x;e.attrs.y=y;e.attrs.w=1;e.attrs.h=1;return e};var G=function(a){var b=document.createElement("rvml:group"),els=b.style;els.position="absolute";els.left=0;els.top=0;els.width=a.width;els.height=a.height;if(a.canvas){a.canvas.appendChild(b)}var c=new z(b,b,a);for(var f in a){if(f.charAt(0)!="_"&&typeof a[f]=="function"){c[f]=(function(f){return function(){var e=a[f].apply(a,arguments);b.appendChild(e[0].parentNode);return e}})(f)}}c.type="group";return c};r._create=function(){var d,width,height;if(typeof arguments[0]=="string"){d=document.getElementById(arguments[0]);width=arguments[1];height=arguments[2]}if(typeof arguments[0]=="object"){d=arguments[0];width=arguments[1];height=arguments[2]}if(typeof arguments[0]=="number"){d=1;x=arguments[0];y=arguments[1];width=arguments[2];height=arguments[3]}if(!d){throw new Error("VML container not found.");}if(!document.namespaces["rvml"]){document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");document.createStyleSheet().addRule("rvml\\:*","behavior:url(#default#VML)")}var c=document.createElement("div"),r=C.canvas=document.createElement("rvml:group"),cs=c.style,rs=r.style;C.width=width;C.height=height;width=width||"320px";height=height||"200px";cs.clip="rect(0 "+width+" "+height+" 0)";cs.position="absolute";rs.width=width;rs.height=height;r.coordsize=(width=="100%"?width:parseFloat(width))+" "+(height=="100%"?height:parseFloat(height));r.coordorigin="0 0";var b=document.createElement("rvml:rect"),bs=b.style;bs.left=bs.top=0;bs.width=rs.width;bs.height=rs.height;b.filled=b.stroked="f";r.appendChild(b);c.appendChild(r);if(d==1){document.body.appendChild(c);cs.position="absolute";cs.left=x+"px";cs.top=y+"px";cs.width=width;cs.height=height;d={style:{width:width,height:height}}}else{cs.width=d.style.width=width;cs.height=d.style.height=height;if(d.firstChild){d.insertBefore(c,d.firstChild)}else{d.appendChild(c)}}for(var e in C){d[e]=C[e]}d.clear=function(){var a=[];for(var i=0,ii=r.childNodes.length;i<ii;i++){if(r.childNodes[i]!=b){a.push(r.childNodes[i])}}for(i=0,ii=a.length;i<ii;i++){r.removeChild(a[i])}};return d};C.remove=function(){C.canvas.parentNode.parentNode.removeChild(C.canvas.parentNode)}}if(q=="SVG"){Matrix.prototype.toString=function(){return"matrix("+this.m[0][0]+", "+this.m[1][0]+", "+this.m[0][1]+", "+this.m[1][1]+", "+this.m[2][0]+", "+this.m[2][1]+")"};var t=function(j,k,l){var m=document.createElementNS(l.svgns,"path");m.setAttribute("fill","none");if(j){for(var n in j){if(j.gradient){v(m,j.gradient,l)}else{m.setAttribute(n,j[n])}}}if(l.canvas){l.canvas.appendChild(m)}var p=new z(m,l);for(var n in j){p.attrs[n]=j[n]}p.isAbsolute=true;p.path=[];p.last={x:0,y:0,bx:0,by:0};p.absolutely=function(){this.isAbsolute=true;return this};p.relatively=function(){this.isAbsolute=false;return this};p.redraw=function(){this[0].setAttribute("d","M0 0");var a=this.path;this.path=[];for(var i=0,ii=a.length;i<ii;i++){if(a[i].type!="end"){this[a[i].type+"To"].apply(this,a[i].arg)}else{this.andClose()}}return this};p.moveTo=function(x,y){var d=this.isAbsolute?"M":"m";var a=this.isAbsolute?l._getX:l._getW;var b=this.isAbsolute?l._getY:l._getH;d+=a(parseFloat(x,10))+" "+b(parseFloat(y,10))+" ";var c=this[0].getAttribute("d")||"";this[0].setAttribute("d",c+d);this.last.x=(this.isAbsolute?0:this.last.x)+l._getX(parseFloat(x,10));this.last.y=(this.isAbsolute?0:this.last.y)+l._getY(parseFloat(y,10));this.path.push({type:"move",arg:arguments,pos:this.isAbsolute});return this};p.lineTo=function(x,y){this.last.x=(this.isAbsolute?0:this.last.x)+l._getX(parseFloat(x,10));this.last.y=(this.isAbsolute?0:this.last.y)+l._getY(parseFloat(y,10));var d=this.isAbsolute?"L":"l";var a=this.isAbsolute?l._getX:l._getW;var b=this.isAbsolute?l._getY:l._getH;d+=a(parseFloat(x,10))+" "+b(parseFloat(y,10))+" ";var c=this[0].getAttribute("d")||"";this[0].setAttribute("d",c+d);this.path.push({type:"line",arg:arguments,pos:this.isAbsolute});return this};p.arcTo=function(a,b,c,e,x,y){var d=this.isAbsolute?"A":"a";var f=this.isAbsolute?l._getX:l._getW;var g=this.isAbsolute?l._getY:l._getH;d+=[l._getW(parseFloat(a,10)),l._getH(parseFloat(b,10)),0,c,e,f(parseFloat(x,10)),g(parseFloat(y,10))].join(" ");var h=this[0].getAttribute("d")||"";this[0].setAttribute("d",h+d);this.last.x=l._getX(parseFloat(x,10));this.last.y=l._getY(parseFloat(y,10));this.path.push({type:"arc",arg:arguments,pos:this.isAbsolute});return this};p.cplineTo=function(a,b,c){if(!c){return this.lineTo(a,b)}else{var p={};p._getX=this.isAbsolute?l._getX:l._getW;p._getY=this.isAbsolute?l._getY:l._getH;var x=p._getX(Math.round(parseFloat(a,10)*100)/100);var y=p._getY(Math.round(parseFloat(b,10)*100)/100);var w=l._getW(Math.round(parseFloat(c,10)*100)/100);var d=this.isAbsolute?"C":"c";var e=[this.last.x+w,this.last.y,x-w,y,x,y];for(var i=0,ii=e.length;i<ii;i++){d+=e[i]+" "}this.last.x=(this.isAbsolute?0:this.last.x)+e[4];this.last.y=(this.isAbsolute?0:this.last.y)+e[5];this.last.bx=e[2];this.last.by=e[3];var f=this[0].getAttribute("d")||"";this[0].setAttribute("d",f+d);this.path.push({type:"cpline",arg:arguments,pos:this.isAbsolute});return this}};p.curveTo=function(){var p={};p._getX=this.isAbsolute?l._getX:l._getW;p._getY=this.isAbsolute?l._getY:l._getH;if(arguments.length==6){var d=this.isAbsolute?"C":"c";for(var i=0,ii=arguments.length;i<ii;i++){d+=p[(i%2==0)?"_getX":"_getY"](Math.round(parseFloat(arguments[i],10)*100)/100)+" "}this.last.x=(this.isAbsolute?0:this.last.x)+p._getX((parseFloat(arguments[4],10)*100)/100);this.last.y=(this.isAbsolute?0:this.last.y)+p._getY((parseFloat(arguments[5],10)*100)/100);this.last.bx=p._getX((parseFloat(arguments[2],10)*100)/100);this.last.by=p._getY((parseFloat(arguments[3],10)*100)/100)}else{if(arguments.length==4){var d=this.isAbsolute?"S":"s";for(var i=0,ii=arguments.length;i<ii;i++){d+=p[i%2==0?"_getX":"_getY"]((parseFloat(arguments[i],10)*100)/100)+" "}}this.last.x=(this.isAbsolute?0:this.last.x)+p._getX((parseFloat(arguments[2],10)*100)/100);this.last.y=(this.isAbsolute?0:this.last.y)+p._getY((parseFloat(arguments[3],10)*100)/100);this.last.bx=p._getX((parseFloat(arguments[0],10)*100)/100);this.last.by=p._getY((parseFloat(arguments[1],10)*100)/100)}var a=this[0].getAttribute("d")||"";this[0].setAttribute("d",a+d);this.path.push({type:"curve",arg:arguments,pos:this.isAbsolute});return this};p.addRoundedCorner=function(r,a){var R=.5522*r,rollback=this.isAbsolute,o=this;if(rollback){this.relatively();rollback=function(){o.absolutely()}}else{rollback=function(){}}var b={l:function(){return{u:function(){o.curveTo(-R,0,-r,-(r-R),-r,-r)},d:function(){o.curveTo(-R,0,-r,r-R,-r,r)}}},r:function(){return{u:function(){o.curveTo(R,0,r,-(r-R),r,-r)},d:function(){o.curveTo(R,0,r,r-R,r,r)}}},u:function(){return{r:function(){o.curveTo(0,-R,-(R-r),-r,r,-r)},l:function(){o.curveTo(0,-R,R-r,-r,-r,-r)}}},d:function(){return{r:function(){o.curveTo(0,R,-(R-r),r,r,r)},l:function(){o.curveTo(0,R,R-r,r,-r,r)}}}};b[a[0]]()[a[1]]();rollback();return o};p.andClose=function(){var a=this[0].getAttribute("d")||"";this[0].setAttribute("d",a+"Z ");this.path.push({type:"end"});return this};if(typeof k=="string"){p.absolutely();C.pathfinder(p,k)}return p};var v=function(o,a,b){var c=document.createElementNS(b.svgns,a.type+"Gradient");c.id="raphael-gradient-"+b.gradients++;if(a.vector&&a.vector.length){c.setAttribute("x1",a.vector[0]);c.setAttribute("y1",a.vector[1]);c.setAttribute("x2",a.vector[2]);c.setAttribute("y2",a.vector[3])}b.defs.appendChild(c);for(var i=0,ii=a.dots.length;i<ii;i++){var d=document.createElementNS(b.svgns,"stop");d.setAttribute("offset",a.dots[i].offset?a.dots[i].offset:(i==0)?"0%":"100%");d.setAttribute("stop-color",a.dots[i].color||"#fff");if(typeof a.dots[i].opacity!="undefined"){d.setAttribute("stop-opacity",a.dots[i].opacity)}c.appendChild(d)};o.setAttribute("fill","url(#"+c.id+")")};var z=function(c,d){var X=0,Y=0,Rotation={deg:0,x:0,y:0},ScaleX=1,ScaleY=1,tMatrix=null;this[0]=c;this.node=c;this.svg=d;this.attrs=this.attrs||{};this.transformations=[];this.rotate=function(a){if(a==undefined){return Rotation.deg}var b=this.getBBox();Rotation.deg+=a;if(Rotation.deg){this.transformations[0]=("rotate("+Rotation.deg+" "+(b.x+b.width/2)+" "+(b.y+b.height/2)+")")}else{this.transformations[0]=""}this[0].setAttribute("transform",this.transformations.join(" "));return this};this.translate=function(x,y){if(x==undefined&&y==undefined){return{x:X,y:Y}}X+=x;Y+=y;if(X&&Y){this.transformations[1]="translate("+X+","+Y+")"}else{this.transformations[1]=""}this[0].setAttribute("transform",this.transformations.join(" "));return this};this.scale=function(x,y){if(x==undefined&&y==undefined){return{x:ScaleX,y:ScaleY}}y=y||x;if(x!=0&&!(x==1&&y==1)){ScaleX*=x;ScaleY*=y;if(!(ScaleX==1&&ScaleY==1)){var a=this.getBBox(),dx=a.x*(1-ScaleX)+(a.width/2-a.width*ScaleX/2),dy=a.y*(1-ScaleY)+(a.height/2-a.height*ScaleY/2);this.transformations[2]=new Matrix(ScaleX,0,0,ScaleY,dx,dy)}else{this.transformations[2]=""}this[0].setAttribute("transform",this.transformations.join(" "))}return this}};z.prototype.hide=function(){this[0].style.display="none";return this};z.prototype.show=function(){this[0].style.display="block";return this};z.prototype.matrix=function(a,b,c,d,e,f){this.transformations[3]=new Matrix(a,b,c,d,e,f);this[0].setAttribute("transform",this.transformations.join(" "));return this};z.prototype.remove=function(){this[0].parentNode.removeChild(this[0])};z.prototype.getBBox=function(){return this[0].getBBox()};z.prototype.attr=function(){if(arguments.length==1&&typeof arguments[0]=="string"){return this[0].getAttribute(arguments[0])}if(arguments.length==1&&arguments[0]instanceof Array){var a={};for(var j in arguments[0]){a[arguments[0][j]]=this.attrs[arguments[0][j]]}return a}if(arguments.length==2){var b=arguments[0],value=arguments[1];this[b]=value;this.attrs[b]=value;switch(b){case"rx":case"cx":case"x":this[0].setAttribute(b,this.svg._getX(value));break;case"ry":case"cy":case"y":this[0].setAttribute(b,this.svg._getY(value));break;case"width":this[0].setAttribute(b,this.svg._getW(value));break;case"height":this[0].setAttribute(b,this.svg._getH(value));break;case"gradient":v(this[0],value,this.svg);break;case"stroke-dasharray":this[0].setAttribute(b,value.replace(" ",","));break;case"text":if(this.type=="text"){this[0].removeChild(this[0].firstChild);this[0].appendChild(document.createTextNode(value))}break;default:var c=b.replace(/(\-.)/g,function(w){return w.substring(1).toUpperCase()});this[0].style[c]=value;this[0].setAttribute(b,value);break}}else if(arguments.length==1&&typeof arguments[0]=="object"){var d=arguments[0];for(var e in d){this.attrs[e]=d[e];if(e=="stroke-dasharray"){this[0].setAttribute(e,d[e].replace(" ",","))}else if(e=="text"&&this.type=="text"){this[0].childNodes.length&&this[0].removeChild(this[0].firstChild);this[0].appendChild(document.createTextNode(d.text))}else{var c=e.replace(/(\-.)/g,function(w){return w.substring(1).toUpperCase()});this[0].style[c]=d[e];this[0].setAttribute(e,d[e])}}if(d.gradient){this.attrs.gradient=d.gradient;v(this[0],d.gradient,this.svg)}}return this};z.prototype.toFront=function(){this[0].parentNode.appendChild(this[0]);return this};z.prototype.toBack=function(){if(this[0].parentNode.firstChild!=this[0]){this[0].parentNode.insertBefore(this[0],this[0].parentNode.firstChild)}return this};var A=function(a,x,y,r){var b=document.createElementNS(a.svgns,"circle");b.setAttribute("cx",a._getX(x));b.setAttribute("cy",a._getY(y));b.setAttribute("r",r);b.setAttribute("fill","none");b.setAttribute("stroke","#000");if(a.canvas){a.canvas.appendChild(b)}var c=new z(b,a);c.attrs=c.attrs||{};c.attrs.cx=x;c.attrs.cy=y;c.attrs.r=r;c.attrs.stroke="#000";c.type="circle";return c};var B=function(a,x,y,w,h,r){var b=document.createElementNS(a.svgns,"rect");b.setAttribute("x",a._getX(x));b.setAttribute("y",a._getY(y));b.setAttribute("width",a._getW(w));b.setAttribute("height",a._getH(h));if(r){b.setAttribute("rx",r);b.setAttribute("ry",r)}b.setAttribute("fill","none");b.setAttribute("stroke","#000");if(a.canvas){a.canvas.appendChild(b)}var c=new z(b,a);c.attrs=c.attrs||{};c.attrs.x=x;c.attrs.y=y;c.attrs.width=w;c.attrs.height=h;c.attrs.stroke="#000";if(r){c.attrs.rx=c.attrs.ry=r}c.type="rect";return c};var D=function(a,x,y,b,c){var d=document.createElementNS(a.svgns,"ellipse");d.setAttribute("cx",a._getX(x));d.setAttribute("cy",a._getY(y));d.setAttribute("rx",a._getW(b));d.setAttribute("ry",a._getH(c));d.setAttribute("fill","none");d.setAttribute("stroke","#000");if(a.canvas){a.canvas.appendChild(d)}var e=new z(d,a);e.attrs=e.attrs||{};e.attrs.cx=x;e.attrs.cy=y;e.attrs.rx=b;e.attrs.ry=c;e.attrs.stroke="#000";e.type="ellipse";return e};var E=function(a,b,x,y,w,h){var c=document.createElementNS(a.svgns,"image");c.setAttribute("x",a._getX(x));c.setAttribute("y",a._getY(y));c.setAttribute("width",a._getW(w));c.setAttribute("height",a._getH(h));c.setAttributeNS(a.xlink,"href",b);if(a.canvas){a.canvas.appendChild(c)}var d=new z(c,a);d.attrs=d.attrs||{};d.attrs.x=x;d.attrs.y=y;d.attrs.width=w;d.attrs.height=h;d.type="image";return d};var F=function(a,x,y,b){var c=document.createElementNS(a.svgns,"text");c.setAttribute("x",x);c.setAttribute("y",y);c.setAttribute("text-anchor","middle");c.setAttribute("fill","#000");if(b){c.appendChild(document.createTextNode(b))}if(a.canvas){a.canvas.appendChild(c)}var d=new z(c,a);d.attrs=d.attrs||{};d.attrs.x=x;d.attrs.y=y;d.attrs.fill="#000";d.type="text";return d};var G=function(a){var b=document.createElementNS(a.svgns,"g");if(a.canvas){a.canvas.appendChild(b)}var i=new z(b,a);for(var f in a){if(f[0]!="_"&&typeof a[f]=="function"){i[f]=(function(f){return function(){var e=a[f].apply(a,arguments);b.appendChild(e[0]);return e}})(f)}}i.type="group";return i};r._create=function(){if(typeof arguments[0]=="string"){var a=document.getElementById(arguments[0]);var b=arguments[1];var c=arguments[2]}if(typeof arguments[0]=="object"){var a=arguments[0];var b=arguments[1];var c=arguments[2]}if(typeof arguments[0]=="number"){var a=1,x=arguments[0],y=arguments[1],b=arguments[2],c=arguments[3]}if(!a){throw new Error("SVG container not found.");}C.canvas=document.createElementNS(C.svgns,"svg");C.canvas.setAttribute("width",b||320);C.width=b||320;C.canvas.setAttribute("height",c||200);C.height=c||200;if(a==1){document.body.appendChild(C.canvas);C.canvas.style.position="absolute";C.canvas.style.left=x+"px";C.canvas.style.top=y+"px"}else{if(a.firstChild){a.insertBefore(C.canvas,a.firstChild)}else{a.appendChild(C.canvas)}}a={canvas:C.canvas,clear:function(){while(this.canvas.firstChild){this.canvas.removeChild(this.canvas.firstChild)}this.defs=document.createElementNS(C.svgns,"defs");this.gradients=0;this.canvas.appendChild(this.defs)}};for(var d in C){if(d!="create"){a[d]=C[d]}}a.clear();return a};C.remove=function(){C.canvas.parentNode.removeChild(C.canvas)};C.svgns="http://www.w3.org/2000/svg";C.xlink="http://www.w3.org/1999/xlink"}if(q=="VML"||q=="SVG"){C.circle=function(x,y,r){return A(this,x,y,r)};C.rect=function(x,y,w,h,r){return B(this,x,y,w,h,r)};C.ellipse=function(x,y,a,b){return D(this,x,y,a,b)};C.path=function(a,b){return t(a,b,this)};C.image=function(a,x,y,w,h){return E(this,a,x,y,w,h)};C.text=function(x,y,a){return F(this,x,y,a)};C.group=function(){return G(this)};C.linerect=function(x,y,w,h,r){if(r&&parseInt(r,10)){return this.path({stroke:"#000"}).moveTo(x+r,y).lineTo(x+w-r,y).addRoundedCorner(r,"rd").lineTo(x+w,y+h-r).addRoundedCorner(r,"dl").lineTo(x+r,y+h).addRoundedCorner(r,"lu").lineTo(x,y+r).addRoundedCorner(r,"ur").andClose()}return this.path({stroke:"#000"}).moveTo(x,y).lineTo(x+w,y).lineTo(x+w,y+h).lineTo(x,y+h).andClose()};C.drawGrid=function(x,y,w,h,a,b,c){c=c||"#000";var p=this.path({stroke:c,"stroke-width":1}).moveTo(x,y).lineTo(x+w,y).lineTo(x+w,y+h).lineTo(x,y+h).lineTo(x,y);for(var i=1;i<b;i++){p.moveTo(x,y+i*Math.round(h/b)).lineTo(x+w,y+i*Math.round(h/b))}for(var i=1;i<a;i++){p.moveTo(x+i*Math.round(w/a),y).lineTo(x+i*Math.round(w/a),y+h)}return p};C.setGrid=function(a,b,c,d,w,h){var e=(c-a)/w;var f=(d-b)/h;this._getX=function(x){return a+x*e};this._getY=function(y){return b+y*f};this._getW=function(w){return w*e};this._getH=function(h){return h*f}};C.clearGrid=function(){this._getX=this._getY=this._getW=this._getH=function(x){return x}};C.safari=function(){if(r.type=="SVG"){var a=C.rect(-C.width,-C.height,C.width*3,C.height*3).attr({stroke:"none"});setTimeout(function(){a.remove()},0)}};z.prototype.animateTo=function(x,y,d,e){clearTimeout(this.animation_in_progress);if("cx"in this.attrs||"x"in this.attrs){var f=("cx"in this.attrs),X=this.attrs.cx||this.attrs.x,Y=this.attrs.cy||this.attrs.y;if(x==X&&y==Y){return this}var g=y-Y,dx=x-X,coeff=g/dx,plus=Y-coeff*X,alpha=Math.atan(this.coeff);this.xs=this.step*Math.cos(alpha);if(x<X){this.xs=-this.xs}var h=new Date(),that=this;(function(){var a=(new Date()).getTime()-h.getTime();if(a<d){var b=X+a*dx/d;var c=b*coeff+plus;that.attr(f?{cx:b,cy:c}:{x:b,y:c});that.animation_in_progress=setTimeout(arguments.callee,1);C.safari()}else{that.attr(f?{cx:x,cy:y}:{x:x,y:y});C.safari();e&&e.call(that)}})()}return this};C.pathfinder=function(p,g){var h={M:function(x,y){this.moveTo(x,y)},m:function(x,y){this.moveTo(this.last.x+x,this.last.y+y)},C:function(a,b,c,d,e,f){this.curveTo(a,b,c,d,e,f)},c:function(a,b,c,d,e,f){this.curveTo(this.last.x+a,this.last.y+b,this.last.x+c,this.last.y+d,this.last.x+e,this.last.y+f)},S:function(a,b,c,d){p.curveTo(a,b,c,d)},s:function(a,b,c,d){this.curveTo(this.last.x+a,this.last.y+b,this.last.x+c,this.last.y+d)},L:function(x,y){p.lineTo(x,y)},l:function(x,y){this.lineTo(this.last.x+x,this.last.y+y)},H:function(x){this.lineTo(x,this.last.y)},h:function(x){this.lineTo(this.last.x+x,this.last.y)},V:function(y){this.lineTo(this.last.x,y)},v:function(y){this.lineTo(this.last.x,this.last.y+y)},A:function(a,b,c,d,e,x,y){this.arcTo(a,b,d,e,x,y)},a:function(a,b,c,d,e,x,y){this.arcTo(this.last.x+a,this.last.y+b,d,sweethisflag,this.last.x+x,this.last.y+y)},z:function(){this.andClose()}};g.replace(/([mzlhvcsqta])\s*((-?\d*\.?\d*\s*,?\s*)+)/ig,function(a,b,c){var d=[];c.replace(/(-?\d*\.?\d*)\s*,?\s*/ig,function(a,b){b&&d.push(+b)});while(d.length>=h[b].length){h[b].apply(p,d.splice(0,h[b].length));if(!h[b].length){break}}})};return r}else{return function(){}}})((!(window.SVGPreserveAspectRatio&&window.SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN==2))?"VML":"SVG");Raphael.vml=!(Raphael.svg=(Raphael.type=="SVG"));if(Raphael.vml&&window.CanvasRenderingContext2D){Raphael.type="Canvas only";Raphael.vml=Raphael.svg=false}Raphael.toString=function(){return"Your browser supports "+this.type+".\nYou are running "+unescape("Rapha%EBl%20")+this.version};Raphael.hsb2rgb=function(a,c,d){if(typeof a=="object"&&"h"in a&&"s"in a&&"b"in a){d=a.b;c=a.s;a=a.h}var e,green,blue;if(d==0){return{r:0,g:0,b:0,hex:"#000"}}else{var i=Math.floor(a*6),f=(a*6)-i,p=d*(1-c),q=d*(1-(c*f)),t=d*(1-(c*(1-f)));[function(){e=d;green=t;blue=p},function(){e=q;green=d;blue=p},function(){e=p;green=d;blue=t},function(){e=p;green=q;blue=d},function(){e=t;green=p;blue=d},function(){e=d;green=p;blue=q},function(){e=d;green=t;blue=p}][i]()}var h={r:e,g:green,b:blue};e*=255;green*=255;blue*=255;var r=Math.round(e).toString(16);if(r.length==1){r="0"+r}var g=Math.round(green).toString(16);if(g.length==1){g="0"+g}var b=Math.round(blue).toString(16);if(b.length==1){b="0"+b}h.hex="#"+r+g+b;return h};Raphael.rgb2hsb=function(a,b,c){if(typeof a=="object"&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(typeof a=="string"&&a.charAt(0)=="#"){if(a.length==4){c=parseInt(a.substring(3),16);b=parseInt(a.substring(2,3),16);a=parseInt(a.substring(1,2),16)}else{c=parseInt(a.substring(5),16);b=parseInt(a.substring(3,5),16);a=parseInt(a.substring(1,3),16)}}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}var d=Math.max(a,b,c),min=Math.min(a,b,c),hue,saturation,brightness=d;if(min==d){return{h:0,s:0,b:d}}else{var e=(d-min);saturation=e/d;if(a==d){hue=(b-c)/e}else if(b==d){hue=2+((c-a)/e)}else{hue=4+((a-b)/e)}hue/=6;if(hue<0){hue+=1}if(hue>1){hue-=1}}return{h:hue,s:saturation,b:brightness}};Raphael.getColor=function(a){var b=arguments.callee.start=arguments.callee.start||{h:0,s:1,b:a||.75};var c=this.hsb2rgb(b.h,b.s,b.b);b.h+=.075;if(b.h>1){b.h=0;b.s-=.2;if(b.s<=0){arguments.callee.start={h:0,s:1,b:b.b}}}return c.hex};Raphael.getColor.reset=function(){this.start=undefined};
